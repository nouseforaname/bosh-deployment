- name: cpi
  path: /releases/-
  type: replace
  value:
    name: bosh-stackit-cpi
    url: file://((path_to_cpi_release_tarball))
    version: create
- name: stemcell
  path: /resource_pools/name=vms/stemcell?
  type: replace
  value:
    sha1: ((stemcell_sha))
    url: ((stemcell_url))
- path: /resource_pools/name=vms/cloud_properties?
  type: replace
  value:
    availability_zone: ((az))
    instance_type: ((bosh_vm_flavor))
    boot_from_volume: true
    root_disk:
      size: ((root_disk_size))
- path: /networks/name=default/subnets/0/cloud_properties?
  type: replace
  value:
    net_id: ((net_id))
- path: /instance_groups/name=bosh/jobs/-
  type: replace
  value:
    name: stackit_cpi
    release: bosh-stackit-cpi
- path: /instance_groups/name=bosh/properties/director/cpi_job?
  type: replace
  value: stackit_cpi
- path: /cloud_provider/template?
  type: replace
  value:
    name: stackit_cpi
    release: bosh-stackit-cpi
- path: /instance_groups/name=bosh/properties/stackit?
  type: replace
  value: &value
    project_id:              ((stackit_project_id))
    region:                  ((stackit_region))
    auth_token:              ""
    service_account_json:    ((stackit_service_account_json))
    default_key_name:        ((default_key_name))
    default_security_groups: ((default_security_groups))
    stage_profile_json: ((stage_profile_json))
    endpoint: ((endpoint))
    human_readable_vm_names: true
    org_id: ((stackit_org_id))
- path: /cloud_provider/properties/stackit?
  type: replace
  value: *value
